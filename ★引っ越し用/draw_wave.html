<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wave Animation with Text</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/p5.js"></script>
    <style>
        body {
            margin: 0;
            padding: 0;
            overflow: hidden;
            font-family: Arial, sans-serif;
        }
        canvas {
            display: block;
        }
    </style>
</head>
<body>
    <script>
        let waves;
        let textString = "在 庫 管 理 補 助 シ ス テ ム";
        let fontSize = 60;

        function setup() {
            createCanvas(window.innerWidth, window.innerHeight);
            colorMode(HSB, 360, 100, 100, 1);
            textAlign(CENTER, CENTER);
            textSize(fontSize);
            textStyle(BOLD); // 文字を太字に設定
            waves = new Waves();
        }

        function draw() {
            background(255); // 白い背景
            waves.draw();    // 波を描画
            drawTextWithWave(); // 波に合わせた文字を描画
        }

        function drawTextWithWave() {
            fill(0); // 黒色の文字
            noStroke();

            // 文字の位置に波を適用
            for (let i = 0; i < textString.length; i++) {
                let x = width / 2 - (textString.length / 2 - i) * fontSize * 0.6;
                let t = frameCount * waves.speed + i * waves.xScale * 100;
                let yOffset = sin(t) * waves.yScale * 0.02;
                let y = height * waves.startHeight - yOffset;

                text(textString.charAt(i), x, y);
            }
        }

        function windowResized() {
            resizeCanvas(window.innerWidth, window.innerHeight);
        }

        class Waves {
            constructor() {
                this.colors = ['#00cfff', '#0099ff', '#005eff']; // 水色グラデーション
                this.yScale = 120;        // 波の高さ
                this.xScale = 0.005;      // 波の横方向の変化
                this.xTranslate = 0.2;    // 横方向のオフセット
                this.itemsOffset = 1;     // 波間の距離
                this.speed = 0.015;        // 波の動きの速度
                this.startHeight = 1 / 5; // 波の開始位置
            }

            draw() {
                let waveHeight = height * (1 - this.startHeight); // 波の描画エリアの高さ
                let lineGap = waveHeight / (this.colors.length + 1); // 各波の間隔
                let currentStartFrom = height * this.startHeight;   // 波の開始位置
                let currentOffset = this.itemsOffset;              // 波のオフセット

                for (let j = 0; j < this.colors.length; j++) {
                    stroke(this.colors[j]); // 色を設定

                    currentStartFrom += lineGap;
                    currentOffset += this.itemsOffset;

                    for (let i = 0; i < width; i++) {
                        let t = i * this.xScale + currentOffset + frameCount * this.speed;
                        let x = i;
                        let y = sin(t + this.xTranslate) * this.yScale;
                        y = map(y, 0, height, 0, this.yScale) + currentStartFrom;

                        let topY = max(y, height * this.startHeight); // 波の上端を制限
                        line(x, height, x, topY); // 縦線を描画
                    }
                }
            }
        }
    </script>
    <footer>
        <p>Made with ❤️ in Kariya by DS部
        </p>
    </footer>
</body>
</html>

